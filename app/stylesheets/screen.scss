//** SCREEN STYLES **//

// Imports --------------------------------------------------------------

@import "defaults";
@import "debug";
@import "mixins";

/* Layout -------------------------------------------------------------- */

@include susy;

// change '.container' to match your HTML container element
// or @extend it to apply multiple containers on your site.
.container {
  @include container;
  &.show-grid {
    @include show-grid("grid.png"); 
  }
}

// show-grid loads a 64+16x24 grid image by default
// For other grid settings, run `compass grid-img 30+10x20`
// Where 30 is the column width, 10 is the gutter width,
// and 20 is the (optional) line-height.

/* Styles -------------------------------------------------------------- */

#header-page {
}

#header-content {
  @extend .container;

  @include padding-leader;

  #logo {
    $logo-columns: 7;
    @include columns($logo-columns);
    @include alpha;

    h1 {
      @include replace-text("plate.jpg", 0, 0);
      @include columns(3, $logo-columns);
      height: image-height("plate.jpg");
      margin-bottom: 0;
    }

    h2 {
      @include padding-leader;
      @include columns(4, $logo-columns);
      @include omega($logo-columns);
    }
  }

  .nav {
    @include columns(4);
    @include omega;
    @include suffix(1);

    @include leader(0.5);
    @include trailer(0.5);

    > ul {
      $menu-color: #555;

      @include dropdown-list-container;
      @include inline-block;
      @include border-radius(3px);
      padding-left: 0.75em;
      padding-right: 0.75em;
      vertical-align: top;
      background-color: $menu-color;

      > li {
        @include horizontal-list-item(5px);
        position: relative;

        &:hover, &.clickdown.active {
          > a {
            background-color: lighten($menu-color, 5%);
            @include text-shadow(rgba(0, 0, 0, 0.85));
          }
        }

        a {
          display: block;
          @include padding-leader(0.5);
          @include padding-trailer(0.5);
          padding-left: 0.5em;
          padding-right: 0.5em;
          color: white;

          &:hover, &:focus {
            text-decoration: none;
            outline: none;
          }
        }

        &:not(.clickdown):hover {
          ul {
            display: block;
          }
        }

        // IE doesn't like the :not selector shared with IE-recognizable selectors on the same line
        // so a split is necessary.
        //
        // IE Only: The dropdown class is assigned to all elements that match the above :not selector
        // See ie.js for details
        &.dropdown:hover, &.clickdown.active {
          ul {
            display: block;
          }
        }

        &:last-child ul {
          right: 0;
        }

        // IE doesn't like the :last-child selector on the same line as others. split required.
        // IE Only: .last class is assigned to all elements that match the above :last-child selector
        &.last ul {
          right: 0;
        }

        ul {
          @include no-bullets;
          display: none;
          position: absolute;
          top: 100%;
          background-color: lighten($menu-color, 10%);
          min-width: 8em;
          margin: -1px 0 0 0;
          border: 1px solid $menu-color;
          @include border-bottom-radius(3px);

          a:hover {
            background-color: lighten($menu-color, 20%);
          }
        }
      }
    }
  }
}

#main-content {
  @extend .container;

  @include padding-leader;

  &.full-page {
    #main {
      @include full;
    }

    #sidebar {
      display: none;
    }
  }

  &.two-column {
    #main {
      @include columns(9);
      @include alpha;
    }
    
    #sidebar {
      @include columns(3);
      @include omega;
    }
  }
}

#footer-page {
  border-top: 2px solid #aaa;
}

#footer-content {
  @extend .container;

  @include padding-leader;

  .links {
    @include full;
    @include clearfix;

    ul {
      @include reset-box-model;
      /* @include no-bullets; */
      @include columns(4,12);

      li {
        @include no-bullet;
      }

      &:first-child, &.first {
      }

      /*
       * Include a &.last rule for IE browsers, since they do not support the :last-child selector
       *
       * IE8 has broken CSS parsing with multiple rules on the same line as :last-child, so we need
       * split them on separate lines. Totally lame.
       *
       * More here: http://www.richardscarrott.co.uk/posts/view/ie8-last-child-bug
      */
      &:last-child {
        @include omega(12);
      }

      &.last {
        @include omega(12);
      }
    }
  }

  span.copyright {
    @include full;
    @include leader;
    display: block;
    text-align: center;
  }
}

